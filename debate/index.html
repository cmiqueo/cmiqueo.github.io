<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debate Timer</title>
    <style>
        body {
            background: #000;
            margin: 0;
            padding: 0;
            height: 100vh;
        }
        .container {
            max-width: 520px;
            margin: 0 auto;
            background: #101010;
            height: calc(100% - 60px);
        }
        #mainTimer {
            height: 32px;
            
        }
        .main-timer {
            font-size: 20px;
            color: #666;
            text-align: right;
            padding: 5px;
        }
        #speakers {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: calc(100% - 80px);
        }
        .speaker {
            width: 100%;
            height: 50%;
            background-color: #444;
            color: white;
            /* margin: 2px; */
            padding: 30px;
            /* border-radius: 10px; */
            display: flex;
            justify-content: space-around;
            align-items: center;
            cursor: pointer;
            box-sizing: border-box;
            flex-direction: column;
            border-bottom: solid 2px #666;
            position: relative;
        }
        .speaker > svg {
            position: absolute;
            opacity: 0.025;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 80%;
            z-index: 0;
        }
        .active {
            background-color: #008800;
        }
        .timer {
            font-size: 60px;
            /* font-weight: 800; */
            /* position: relative;
            z-index: 1; */
        }
        .active .timer {
            font-weight: 800;
        }
        .label {
            position: relative;
            z-index: 1;
            font-size: 72px;
            color: #999;
            opacity: 0.5;
            text-align: center;
        }
        .controls {
            height: 48px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .controls button {
            width: 50%;
            height: 100%;
            background-color: #444;
            color: white;
            border: solid 1px #666;
            cursor: pointer;
        }

        .label svg {
            opacity: 0;
        }
        .active .label svg {
            opacity: 1;
            width: 60%;
            margin: 0 auto;
            animation: move .75s linear infinite;
        }

        @keyframes move {
            0% {
            transform: scaley(.5);
            transform-origin: center;
            }
            50% {
            transform: scaley(1);
            transform-origin: center;
            }
            100% {
            transform: scaley(.5);
            transform-origin: center;
            }
        }
        .label svg path {
            animation: move 2s linear infinite;
        }
    </style>
</head>

<body>
    <div class="container">
        <div id="mainTimer">
            <div class="main-timer">0:00</div>
        </div>
        <div id="speakers">
            <div class="speaker" id="speaker1">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" viewBox="0, 0, 400,400"><g id="svgg"><path id="path0" d="M181.326 1.259 C 99.404 14.988,65.693 117.723,123.260 178.215 C 189.026 247.324,305.462 200.836,305.462 105.469 C 305.462 39.345,246.986 -9.744,181.326 1.259 M208.984 24.559 C 262.598 28.631,297.197 90.123,273.785 139.728 C 246.882 196.729,169.897 203.416,133.166 151.942 C 107.540 116.031,117.147 63.165,153.810 38.337 C 167.463 29.092,189.088 22.568,201.563 23.931 C 202.637 24.048,205.977 24.331,208.984 24.559 M154.297 235.591 C 87.099 246.233,34.781 299.326,25.431 366.364 C 22.732 385.713,23.864 394.862,29.407 398.517 C 32.908 400.825,367.092 400.825,370.593 398.517 C 376.120 394.873,377.311 385.285,374.569 366.507 C 364.990 300.917,317.603 250.729,251.893 236.578 C 241.739 234.391,166.666 233.632,154.297 235.591 M230.871 258.570 C 293.648 262.904,341.827 308.856,351.103 373.242 L 351.581 376.563 200.000 376.563 L 48.419 376.563 48.897 373.242 C 57.188 315.688,96.665 272.382,151.361 260.842 C 164.482 258.074,206.354 256.877,230.871 258.570 " stroke="none" fill="#ffffff" fill-rule="evenodd"></path></g></svg>
                <div class="label">
                    <svg id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="158.06451612903226" viewBox="0, 0, 400,158.06451612903226" stroke="none" fill="#fff" fill-rule="evenodd"><g id="svgg"><path id="path0" d="M186.994 27.946 C 185.608 29.615,184.887 129.776,186.235 133.322 C 187.294 136.106,190.633 136.989,192.774 135.051 C 194.982 133.053,195.283 30.076,193.088 27.880 C 191.436 26.228,188.393 26.261,186.994 27.946 M58.593 39.378 C 56.868 41.284,56.517 121.517,58.226 123.226 C 59.473 124.473,63.107 124.473,64.355 123.226 C 66.184 121.397,65.698 40.913,63.848 39.238 C 61.931 37.503,60.249 37.548,58.593 39.378 M330.825 39.159 L 329.032 40.414 329.032 80.744 C 329.032 123.946,329.055 124.194,333.074 124.194 C 338.020 124.194,337.971 124.650,337.724 80.284 C 337.508 41.665,337.442 40.150,335.935 39.047 C 333.939 37.588,333.038 37.608,330.825 39.159 M115.851 40.991 C 114.648 42.321,114.516 46.314,114.516 81.555 C 114.516 123.316,114.444 122.581,118.548 122.581 C 122.654 122.581,122.581 123.326,122.581 81.415 C 122.581 44.434,122.496 42.109,121.106 40.851 C 119.189 39.116,117.507 39.161,115.851 40.991 M201.613 41.129 C 200.045 42.697,200.000 43.817,200.000 81.394 C 200.000 123.420,199.910 122.581,204.435 122.581 C 208.961 122.581,208.871 123.420,208.871 81.394 C 208.871 39.501,208.873 39.516,204.435 39.516 C 203.770 39.516,202.500 40.242,201.613 41.129 M258.871 41.129 C 257.303 42.697,257.258 43.817,257.258 81.394 C 257.258 123.420,257.168 122.581,261.694 122.581 C 266.219 122.581,266.129 123.420,266.129 81.394 C 266.129 39.501,266.131 39.516,261.694 39.516 C 261.028 39.516,259.758 40.242,258.871 41.129 M173.567 42.384 L 171.774 43.640 171.774 81.336 C 171.774 121.608,171.709 120.968,175.806 120.968 C 179.904 120.968,179.839 121.608,179.839 81.336 L 179.839 43.640 178.046 42.384 C 177.061 41.694,176.053 41.129,175.806 41.129 C 175.560 41.129,174.552 41.694,173.567 42.384 M272.609 49.947 C 270.870 53.195,271.527 111.623,273.321 113.246 C 275.390 115.119,278.355 114.577,279.605 112.097 C 281.267 108.800,281.072 52.581,279.390 50.179 C 277.778 47.879,273.789 47.742,272.609 49.947 M72.478 52.945 C 71.074 54.635,70.366 104.764,71.696 108.263 C 72.777 111.106,76.094 112.010,78.258 110.051 C 80.454 108.065,80.744 55.053,78.571 52.880 C 76.920 51.229,73.877 51.261,72.478 52.945 M100.835 53.173 C 99.077 56.457,99.758 108.402,101.580 110.051 C 103.695 111.965,107.061 111.107,108.093 108.393 C 109.515 104.652,109.089 55.508,107.616 53.405 C 106.004 51.105,102.015 50.968,100.835 53.173 M129.956 52.682 C 128.271 54.711,128.649 109.016,130.356 110.264 C 132.319 111.699,134.199 111.543,135.762 109.816 C 137.734 107.637,137.797 54.847,135.829 52.880 C 134.283 51.334,131.162 51.229,129.956 52.682 M158.525 52.880 C 156.440 54.966,156.633 108.055,158.733 109.956 C 160.693 111.729,162.554 111.640,164.516 109.677 C 166.727 107.467,167.051 56.513,164.874 53.405 C 163.409 51.315,160.344 51.061,158.525 52.880 M215.783 52.880 C 213.611 55.053,213.901 108.065,216.097 110.051 C 218.211 111.965,221.577 111.107,222.609 108.393 C 224.031 104.652,223.605 55.508,222.132 53.405 C 220.668 51.315,217.602 51.061,215.783 52.880 M315.851 53.088 C 314.666 54.397,314.516 57.541,314.516 81.134 C 314.516 109.998,314.706 111.290,318.952 111.290 C 323.200 111.290,323.387 110.011,323.387 80.994 C 323.387 56.140,323.285 54.189,321.912 52.948 C 319.978 51.197,317.511 51.254,315.851 53.088 M44.009 56.106 C 41.843 58.272,42.131 104.842,44.322 106.825 C 46.436 108.739,49.803 107.881,50.835 105.167 C 52.247 101.453,51.827 58.729,50.357 56.631 C 48.893 54.541,45.828 54.287,44.009 56.106 M244.474 55.905 C 242.792 57.931,243.162 105.787,244.868 107.035 C 246.835 108.473,248.714 108.318,250.278 106.590 C 252.246 104.416,252.307 58.068,250.346 56.106 C 248.801 54.561,245.678 54.454,244.474 55.905 M344.960 55.710 C 342.742 57.001,342.802 104.719,345.023 106.730 C 346.940 108.465,348.622 108.420,350.278 106.590 C 351.993 104.695,352.334 57.495,350.645 55.806 C 349.474 54.635,346.880 54.591,344.960 55.710 M287.702 57.323 C 285.487 58.613,285.546 103.109,287.765 105.117 C 293.409 110.225,294.355 106.736,294.355 80.812 C 294.355 55.367,293.888 53.719,287.702 57.323 M87.097 62.903 C 85.054 64.946,84.582 96.846,86.555 99.543 C 87.942 101.441,91.897 101.441,93.284 99.543 C 97.094 94.332,94.188 61.290,89.919 61.290 C 89.254 61.290,87.984 62.016,87.097 62.903 M144.355 62.903 C 142.312 64.946,141.840 96.846,143.813 99.543 C 145.200 101.441,149.155 101.441,150.542 99.543 C 154.353 94.332,151.446 61.290,147.177 61.290 C 146.512 61.290,145.242 62.016,144.355 62.903 M301.969 62.434 C 299.325 64.367,299.582 97.859,302.257 100.029 C 304.059 101.490,305.746 101.414,307.863 99.776 C 309.693 98.360,309.265 64.316,307.396 62.625 C 305.589 60.989,304.021 60.934,301.969 62.434 M29.839 64.516 C 27.999 66.356,27.340 94.418,29.061 97.634 C 30.215 99.791,35.107 99.791,36.262 97.634 C 39.675 91.256,36.736 62.903,32.661 62.903 C 31.996 62.903,30.726 63.629,29.839 64.516 M230.367 64.378 C 228.666 66.257,228.338 96.563,230.000 98.226 C 231.248 99.473,234.882 99.473,236.129 98.226 C 237.908 96.447,237.452 65.894,235.622 64.238 C 233.705 62.503,232.023 62.548,230.367 64.378 M359.445 63.911 C 357.724 65.198,357.240 96.019,358.909 98.029 C 360.333 99.746,364.295 99.500,365.294 97.634 C 367.161 94.145,366.344 65.564,364.337 64.159 C 362.168 62.640,361.209 62.591,359.445 63.911 M15.279 73.037 C 11.975 77.018,13.917 90.510,17.861 90.971 C 21.552 91.403,22.581 89.393,22.581 81.744 C 22.581 72.474,19.145 68.378,15.279 73.037 M372.609 73.334 C 371.262 75.850,371.562 87.241,373.030 89.337 C 376.661 94.521,380.645 90.440,380.645 81.537 C 380.645 73.380,379.916 71.774,376.210 71.774 C 374.301 71.774,373.185 72.257,372.609 73.334 "></path></g></svg>
                </div>
                <div class="timer">0:00</div>
            </div>
            <div class="speaker" id="speaker2">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" viewBox="0, 0, 400,400"><g id="svgg"><path id="path0" d="M181.326 1.259 C 99.404 14.988,65.693 117.723,123.260 178.215 C 189.026 247.324,305.462 200.836,305.462 105.469 C 305.462 39.345,246.986 -9.744,181.326 1.259 M208.984 24.559 C 262.598 28.631,297.197 90.123,273.785 139.728 C 246.882 196.729,169.897 203.416,133.166 151.942 C 107.540 116.031,117.147 63.165,153.810 38.337 C 167.463 29.092,189.088 22.568,201.563 23.931 C 202.637 24.048,205.977 24.331,208.984 24.559 M154.297 235.591 C 87.099 246.233,34.781 299.326,25.431 366.364 C 22.732 385.713,23.864 394.862,29.407 398.517 C 32.908 400.825,367.092 400.825,370.593 398.517 C 376.120 394.873,377.311 385.285,374.569 366.507 C 364.990 300.917,317.603 250.729,251.893 236.578 C 241.739 234.391,166.666 233.632,154.297 235.591 M230.871 258.570 C 293.648 262.904,341.827 308.856,351.103 373.242 L 351.581 376.563 200.000 376.563 L 48.419 376.563 48.897 373.242 C 57.188 315.688,96.665 272.382,151.361 260.842 C 164.482 258.074,206.354 256.877,230.871 258.570 " stroke="none" fill="#ffffff" fill-rule="evenodd"></path></g></svg>
                <div class="label">
                    <svg id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="158.06451612903226" viewBox="0, 0, 400,158.06451612903226" stroke="none" fill="#fff" fill-rule="evenodd"><g id="svgg"><path id="path0" d="M186.994 27.946 C 185.608 29.615,184.887 129.776,186.235 133.322 C 187.294 136.106,190.633 136.989,192.774 135.051 C 194.982 133.053,195.283 30.076,193.088 27.880 C 191.436 26.228,188.393 26.261,186.994 27.946 M58.593 39.378 C 56.868 41.284,56.517 121.517,58.226 123.226 C 59.473 124.473,63.107 124.473,64.355 123.226 C 66.184 121.397,65.698 40.913,63.848 39.238 C 61.931 37.503,60.249 37.548,58.593 39.378 M330.825 39.159 L 329.032 40.414 329.032 80.744 C 329.032 123.946,329.055 124.194,333.074 124.194 C 338.020 124.194,337.971 124.650,337.724 80.284 C 337.508 41.665,337.442 40.150,335.935 39.047 C 333.939 37.588,333.038 37.608,330.825 39.159 M115.851 40.991 C 114.648 42.321,114.516 46.314,114.516 81.555 C 114.516 123.316,114.444 122.581,118.548 122.581 C 122.654 122.581,122.581 123.326,122.581 81.415 C 122.581 44.434,122.496 42.109,121.106 40.851 C 119.189 39.116,117.507 39.161,115.851 40.991 M201.613 41.129 C 200.045 42.697,200.000 43.817,200.000 81.394 C 200.000 123.420,199.910 122.581,204.435 122.581 C 208.961 122.581,208.871 123.420,208.871 81.394 C 208.871 39.501,208.873 39.516,204.435 39.516 C 203.770 39.516,202.500 40.242,201.613 41.129 M258.871 41.129 C 257.303 42.697,257.258 43.817,257.258 81.394 C 257.258 123.420,257.168 122.581,261.694 122.581 C 266.219 122.581,266.129 123.420,266.129 81.394 C 266.129 39.501,266.131 39.516,261.694 39.516 C 261.028 39.516,259.758 40.242,258.871 41.129 M173.567 42.384 L 171.774 43.640 171.774 81.336 C 171.774 121.608,171.709 120.968,175.806 120.968 C 179.904 120.968,179.839 121.608,179.839 81.336 L 179.839 43.640 178.046 42.384 C 177.061 41.694,176.053 41.129,175.806 41.129 C 175.560 41.129,174.552 41.694,173.567 42.384 M272.609 49.947 C 270.870 53.195,271.527 111.623,273.321 113.246 C 275.390 115.119,278.355 114.577,279.605 112.097 C 281.267 108.800,281.072 52.581,279.390 50.179 C 277.778 47.879,273.789 47.742,272.609 49.947 M72.478 52.945 C 71.074 54.635,70.366 104.764,71.696 108.263 C 72.777 111.106,76.094 112.010,78.258 110.051 C 80.454 108.065,80.744 55.053,78.571 52.880 C 76.920 51.229,73.877 51.261,72.478 52.945 M100.835 53.173 C 99.077 56.457,99.758 108.402,101.580 110.051 C 103.695 111.965,107.061 111.107,108.093 108.393 C 109.515 104.652,109.089 55.508,107.616 53.405 C 106.004 51.105,102.015 50.968,100.835 53.173 M129.956 52.682 C 128.271 54.711,128.649 109.016,130.356 110.264 C 132.319 111.699,134.199 111.543,135.762 109.816 C 137.734 107.637,137.797 54.847,135.829 52.880 C 134.283 51.334,131.162 51.229,129.956 52.682 M158.525 52.880 C 156.440 54.966,156.633 108.055,158.733 109.956 C 160.693 111.729,162.554 111.640,164.516 109.677 C 166.727 107.467,167.051 56.513,164.874 53.405 C 163.409 51.315,160.344 51.061,158.525 52.880 M215.783 52.880 C 213.611 55.053,213.901 108.065,216.097 110.051 C 218.211 111.965,221.577 111.107,222.609 108.393 C 224.031 104.652,223.605 55.508,222.132 53.405 C 220.668 51.315,217.602 51.061,215.783 52.880 M315.851 53.088 C 314.666 54.397,314.516 57.541,314.516 81.134 C 314.516 109.998,314.706 111.290,318.952 111.290 C 323.200 111.290,323.387 110.011,323.387 80.994 C 323.387 56.140,323.285 54.189,321.912 52.948 C 319.978 51.197,317.511 51.254,315.851 53.088 M44.009 56.106 C 41.843 58.272,42.131 104.842,44.322 106.825 C 46.436 108.739,49.803 107.881,50.835 105.167 C 52.247 101.453,51.827 58.729,50.357 56.631 C 48.893 54.541,45.828 54.287,44.009 56.106 M244.474 55.905 C 242.792 57.931,243.162 105.787,244.868 107.035 C 246.835 108.473,248.714 108.318,250.278 106.590 C 252.246 104.416,252.307 58.068,250.346 56.106 C 248.801 54.561,245.678 54.454,244.474 55.905 M344.960 55.710 C 342.742 57.001,342.802 104.719,345.023 106.730 C 346.940 108.465,348.622 108.420,350.278 106.590 C 351.993 104.695,352.334 57.495,350.645 55.806 C 349.474 54.635,346.880 54.591,344.960 55.710 M287.702 57.323 C 285.487 58.613,285.546 103.109,287.765 105.117 C 293.409 110.225,294.355 106.736,294.355 80.812 C 294.355 55.367,293.888 53.719,287.702 57.323 M87.097 62.903 C 85.054 64.946,84.582 96.846,86.555 99.543 C 87.942 101.441,91.897 101.441,93.284 99.543 C 97.094 94.332,94.188 61.290,89.919 61.290 C 89.254 61.290,87.984 62.016,87.097 62.903 M144.355 62.903 C 142.312 64.946,141.840 96.846,143.813 99.543 C 145.200 101.441,149.155 101.441,150.542 99.543 C 154.353 94.332,151.446 61.290,147.177 61.290 C 146.512 61.290,145.242 62.016,144.355 62.903 M301.969 62.434 C 299.325 64.367,299.582 97.859,302.257 100.029 C 304.059 101.490,305.746 101.414,307.863 99.776 C 309.693 98.360,309.265 64.316,307.396 62.625 C 305.589 60.989,304.021 60.934,301.969 62.434 M29.839 64.516 C 27.999 66.356,27.340 94.418,29.061 97.634 C 30.215 99.791,35.107 99.791,36.262 97.634 C 39.675 91.256,36.736 62.903,32.661 62.903 C 31.996 62.903,30.726 63.629,29.839 64.516 M230.367 64.378 C 228.666 66.257,228.338 96.563,230.000 98.226 C 231.248 99.473,234.882 99.473,236.129 98.226 C 237.908 96.447,237.452 65.894,235.622 64.238 C 233.705 62.503,232.023 62.548,230.367 64.378 M359.445 63.911 C 357.724 65.198,357.240 96.019,358.909 98.029 C 360.333 99.746,364.295 99.500,365.294 97.634 C 367.161 94.145,366.344 65.564,364.337 64.159 C 362.168 62.640,361.209 62.591,359.445 63.911 M15.279 73.037 C 11.975 77.018,13.917 90.510,17.861 90.971 C 21.552 91.403,22.581 89.393,22.581 81.744 C 22.581 72.474,19.145 68.378,15.279 73.037 M372.609 73.334 C 371.262 75.850,371.562 87.241,373.030 89.337 C 376.661 94.521,380.645 90.440,380.645 81.537 C 380.645 73.380,379.916 71.774,376.210 71.774 C 374.301 71.774,373.185 72.257,372.609 73.334 "></path></g></svg>
                </div>
                <div class="timer">0:00</div>
            </div>
        </div>

        <div class="controls">
            <button id="stop">Stop</button>
            <button id="reset">Reset</button>
        </div>

        <script>
            // speaker1 = document.getElementById('speaker1');
            // speaker2 = document.getElementById('speaker2');
            const speakers = document.querySelectorAll('.speaker');
            const mainTimer = document.getElementById('mainTimer');
            let totalSeconds = 0;
            let mainInterval = null;
            let activeTimer = null;
            let activeInterval = null;
            let activeSpeaker = null;

            speakers.forEach(element => {
                element.addEventListener('click', function() {
                    const timer = this.querySelector('.timer');
                    // console.log("Timer clicked", this.id);
                    trackTime(this);
                });
            });

            function trackTime(speaker) {
                // If clicking the same active speaker, pause the timer
                if (speaker === activeSpeaker) {
                    return;
                }
                
                // If another speaker was active, pause their timer
                if (activeSpeaker) {
                    clearInterval(activeInterval);
                    activeSpeaker.classList.remove('active');
                }
                
                // Set the clicked speaker as active
                activeSpeaker = speaker;
                speaker.classList.add('active');
                
                const timer = speaker.querySelector('.timer');
                const timeArray = timer.textContent.split(':');
                const minutes = parseInt(timeArray[0], 10);
                const seconds = parseInt(timeArray[1], 10);
                
                let totalSeconds = minutes * 60 + seconds;
                
                // Start the timer for this speaker
                activeInterval = setInterval(() => {
                    totalSeconds++;
                    const newMinutes = Math.floor(totalSeconds / 60);
                    const newSeconds = totalSeconds % 60;
                    timer.textContent = `${newMinutes}:${newSeconds < 10 ? '0' : ''}${newSeconds}`;
                }, 1000);
            }


            const stopButton = document.getElementById('stop');
            stopButton.addEventListener('click', stopTimers);
            function stopTimers() {
                console.log("Stop Timer");
                clearInterval(activeInterval);
                clearInterval(mainInterval);
                activeInterval = null;
                activeSpeaker?.classList.remove('active');
                activeSpeaker = null;
                // totalSeconds = 0;
            }

            const resetButton = document.getElementById('reset');
            resetButton.addEventListener('click', resetTimers);
            function resetTimers() {
                console.log("Reset Timer");
                clearInterval(activeInterval);
                clearInterval(mainInterval);
                activeInterval = null;
                activeSpeaker?.classList.remove('active');
                activeSpeaker = null;
                totalSeconds = 0;
                
                speakers.forEach(speaker => {
                    const timer = speaker.querySelector('.timer');
                    timer.textContent = '0:00';
                    speaker.classList.remove('active');
                });
                
                const mainTimer = document.querySelector('.main-timer');
                mainTimer.textContent = '0:00';
            }

            function startMainTimer() {
                const mainTimer = document.querySelector('.main-timer');
                mainTimer.textContent = '0:00';
                mainInterval = setInterval(() => {
                    totalSeconds++;
                    const newMinutes = Math.floor(totalSeconds / 60);
                    const newSeconds = totalSeconds % 60;
                    mainTimer.textContent = `${newMinutes}:${newSeconds < 10 ? '0' : ''}${newSeconds}`;
                }, 1000);
            }

            // init()
            startMainTimer();

        </script>
</body>
</html>