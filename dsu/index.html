<!DOCTYPE html>
<html>
<head>
    <title>DSU Speaker Selector</title>
    <style>
        body{font-family:sans-serif;text-align:center;background:#333;color:white;}h1{font-weight:300;font-size:28px;}h1 span{font-weight:400;color:#aaaaaacc;}#userName{font-size:44px;color:#fff;font-weight:400;margin:0;}#imageGrid{display:flex;justify-content:center;gap:10px;margin:50px auto;border:solid 1px #666;padding:20px;max-width:1200px;}#imageGrid div.imageContainer{width:160px;height:220px;border:solid 1px #757575;background:linear-gradient(45deg,black,transparent);}#imageGrid div.selected{border:solid;}div#imageGrid:not(.finished)>div{opacity:.33;transition:all 0.3s ease;}div#imageGrid div.selected{opacity:1;border:solid 1px #999;box-shadow:0 0 16px #000;transform:scale(1.25);font-weight:300;position:absolute;z-index:2;}div#imageGrid .selected{animation:spinHorizontal .8s ease-in-out;}@keyframes spinHorizontal{from{transform:rotate(-180deg) scale(.15);border-radius:50%;}to{transform:rotate(360deg) scale(1.25);border-radius:0;}}.imageItem{width:160px;height:180px;object-fit:cover;cursor:pointer;}.timer{font-size:28px;font-family:monospace;background:black;color:#999;margin-top:-5px;padding:6px;}#selectButton{padding:10px 20px;font-size:16px;background-color:#4CAF50;color:white;border:none;cursor:pointer;border-radius:5px;}#selectButton.reset{background-color:#2d6a2f;}#mainTimer{display:none;}#mainTimer.running{display:block;}#mainTimer{color:#666;margin-top:50px;font-weight:300;}#timerDisplay{color:#404040;font-size:100px;font-weight:600;text-shadow:1px 1px 0px #666;}
    </style>
</head>
<body>
    <h1>DSU<span>Random</span>User<span>Selector</span></h1>
    <h2 id="userName">Welcome!</h2>
    <div id="imageGrid"></div>
    <button id="selectButton">Start Meeting</button>
    <div id="mainTimer">Meeting Time:<div id="timerDisplay">0:00</div></div>
    <script>
        const images=["./images/Jed.png","./images/Carlos.png","./images/Shahbaz.png","./images/Sheridan.png","./images/Gayane.png","./images/Sanjay.png","./images/DJ.png"];const userName=document.getElementById("userName");const imageGrid=document.getElementById("imageGrid");const selectButton=document.getElementById("selectButton");const timerDisplay=document.getElementById("timerDisplay");let timerRunning=false;const userTimers=[];let availableImages=[...images];function init(){images.forEach(()=>{const containerDiv=document.createElement("div");containerDiv.classList.add("imageContainer","empty");imageGrid.appendChild(containerDiv);});}function startMainTimer(){timerDisplay.parentElement.classList.add("running");let timeElapsed=0;const timer=setInterval(()=>{timeElapsed++;const minutes=Math.floor(timeElapsed/60);const seconds=timeElapsed%60;timerDisplay.textContent=`${minutes}:${seconds.toString().padStart(2,'0')}`;},1000);timerDisplay.dataset.timerId=timer;timerRunning=true;}function displaySpeaker(imageUrl){const user=imageUrl.split("/").pop().split(".")[0];userName.textContent=user;if(!timerRunning)startMainTimer();const nextButton=document.getElementById("selectButton");nextButton.textContent="Next Speaker";const nextImageContainer=document.querySelector('div.imageContainer.empty');nextImageContainer.id=user;nextImageContainer.classList.remove("empty");nextImageContainer.classList.add("selected","filled");const imgElement=document.createElement("img");imgElement.src=imageUrl;imgElement.alt=user;imgElement.classList.add("imageItem");const timerElement=document.createElement("div");timerElement.classList.add("timer");timerElement.textContent="0:00";nextImageContainer.appendChild(imgElement);nextImageContainer.appendChild(timerElement);nextImageContainer.addEventListener('click',()=>{removeSelected();nextImageContainer.classList.add("selected");let timeElapsed=userTimers.find(t=>t.user===user)?.time||0;const timer=setInterval(()=>{timeElapsed++;const minutes=Math.floor(timeElapsed/60);const seconds=timeElapsed%60;timerElement.textContent=`${minutes}:${seconds.toString().padStart(2,'0')}`;},1000);nextImageContainer.dataset.timerId=timer;});availableImages=availableImages.filter(img=>img!==imageUrl);let timeElapsed=0;const timer=setInterval(()=>{timeElapsed++;const minutes=Math.floor(timeElapsed/60);const seconds=timeElapsed%60;timerElement.textContent=`${minutes}:${seconds.toString().padStart(2,'0')}`;},1000);nextImageContainer.dataset.timerId=timer;}function removeSelected(){const selectedSpeaker=imageGrid.querySelector('div.selected');if(selectedSpeaker){selectedSpeaker.classList.remove("selected");clearInterval(parseInt(selectedSpeaker.dataset.timerId));const user=selectedSpeaker.id;const time=toSeconds(selectedSpeaker.querySelector('.timer').textContent);userTimers.push({user,time});}}function toSeconds(timeString){const[minutes,seconds]=timeString.split(':').map(Number);return(minutes*60)+seconds;}function selectRandomImage(){removeSelected();const randomIndex=Math.floor(Math.random()*availableImages.length);const selectedImage=availableImages[randomIndex];displaySpeaker(selectedImage);if(availableImages.length===0){selectButton.classList.add("reset");selectButton.textContent="Done!";}}function endMeeting(){userName.textContent="Done!";selectButton.textContent="Reset Meeting";selectButton.classList.add("reset");imageGrid.classList.add("finished");removeSelected();}function resetMeeting(){imageGrid.classList.remove("finished");availableImages=[...images];clearTimers();const userContainers=imageGrid.querySelectorAll('.imageContainer');userContainers.forEach(container=>{container.classList.remove("selected");container.classList.add("empty");container.innerHTML="";});selectButton.textContent="Start Meeting";selectButton.classList.remove("reset");}function clearTimers(){const existingContainers=imageGrid.querySelectorAll('div');existingContainers.forEach(container=>{if(container.dataset.timerId){clearInterval(parseInt(container.dataset.timerId));}});}selectButton.addEventListener("click",()=>{if(availableImages.length>0){selectRandomImage();}else if(selectButton.textContent==="Done!"){endMeeting();}else if(selectButton.textContent==="Reset Meeting"){resetMeeting();}});init();
    </script>
</body>
</html>
